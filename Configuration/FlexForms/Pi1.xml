<T3DataStructure>
    <sheets>
        <sDEF>
            <ROOT>
                <TCEforms>
                    <sheetTitle>Options</sheetTitle>
                </TCEforms>
                <type>array</type>
                <el>
                    <switchableControllerActions>
                        <TCEforms>
                            <label>Controller action</label>
                            <onChange>reload</onChange>
                            <config>
                                <type>select</type>
                                <items>
                                    <numIndex index="0">
                                        <numIndex index="0">Event List</numIndex>
                                        <numIndex index="1">Event->list</numIndex>
                                    </numIndex>
                                    <numIndex index="1">
                                        <numIndex index="0">Event Teaser</numIndex>
                                        <numIndex index="1">Event->teaser</numIndex>
                                    </numIndex>
                                    <numIndex index="2">
                                        <numIndex index="0">Event Show</numIndex>
                                        <numIndex index="1">Event->show</numIndex>
                                    </numIndex>
                                    <numIndex index="3">
                                        <numIndex index="0">Date List</numIndex>
                                        <numIndex index="1">Date->list</numIndex>
                                    </numIndex>
                                    <!--
                                    <numIndex index="4">
                                        <numIndex index="0">Date Teaser</numIndex>
                                        <numIndex index="1">Date->teaser</numIndex>
                                    </numIndex>
                                    -->
                                    <numIndex index="5">
                                        <numIndex index="0">Date Show</numIndex>
                                        <numIndex index="1">Date->show</numIndex>
                                    </numIndex>

                                    <numIndex index="6">
                                        <numIndex index="0">Event Search</numIndex>
                                        <numIndex index="1">Event->search</numIndex>
                                    </numIndex>

                                    <numIndex index="6">
                                        <numIndex index="0">Date Search</numIndex>
                                        <numIndex index="1">Date->search</numIndex>
                                    </numIndex>

                                </items>
                            </config>
                        </TCEforms>
                    </switchableControllerActions>

                    <settings.sortByEvent>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Sort By</label>
                            <displayCond>FIELD:switchableControllerActions:=:Event->list</displayCond>
                            <config>
                                <type>select</type>
                                <items type="array">
                                    <numIndex index="0" type="array">
                                        <numIndex index="0">Title</numIndex>
                                        <numIndex index="1">title</numIndex>
                                    </numIndex>
                                    <numIndex index="1" type="array">
                                        <numIndex index="0">Region</numIndex>
                                        <numIndex index="1">region</numIndex>
                                    </numIndex>
                                </items>
                            </config>
                        </TCEforms>
                    </settings.sortByEvent>

                    <settings.sortByDate>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Sort By</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->search</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <items type="array">
                                    <numIndex index="0" type="array">
                                        <numIndex index="0">Start</numIndex>
                                        <numIndex index="1">start</numIndex>
                                    </numIndex>
                                    <numIndex index="1" type="array">
                                        <numIndex index="0">End</numIndex>
                                        <numIndex index="1">end</numIndex>
                                    </numIndex>
                                </items>
                            </config>
                        </TCEforms>
                    </settings.sortByDate>

                    <settings.sortOrder>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Sort Order</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                    <numIndex index="2">FIELD:switchableControllerActions:=:Date->search</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <items type="array">
                                    <numIndex index="0" type="array">
                                        <numIndex index="0">
                                            Ascending
                                        </numIndex>
                                        <numIndex index="1">ASC</numIndex>
                                    </numIndex>
                                    <numIndex index="1" type="array">
                                        <numIndex index="0">
                                            Descending
                                        </numIndex>
                                        <numIndex index="1">DESC</numIndex>
                                    </numIndex>
                                </items>
                                <default>ASC</default>
                            </config>
                        </TCEforms>
                    </settings.sortOrder>

                    <settings.limit>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Max Items</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                    <numIndex index="2">FIELD:switchableControllerActions:=:Date->search</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>input</type>
                                <size>10</size>
                                <max>30</max>
                                <eval>trim</eval>
                            </config>
                        </TCEforms>
                    </settings.limit>

                    <settings.highlight>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Highlights only</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>check</type>
                                <default>0</default>
                            </config>
                        </TCEforms>
                    </settings.highlight>

                    <settings.todayOnly>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Today only</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>check</type>
                                <default>0</default>
                            </config>
                        </TCEforms>
                    </settings.todayOnly>

                    <settings.pagination>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Show pagination</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>check</type>
                                <default>0</default>
                            </config>
                        </TCEforms>
                    </settings.pagination>

                    <settings.showPID>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Detail page</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Event->teaser</numIndex>
                                    <numIndex index="2">FIELD:switchableControllerActions:=:Date->list</numIndex>
                                    <numIndex index="3">FIELD:switchableControllerActions:=:Date->teaser</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>group</type>
                                <internal_type>db</internal_type>
                                <allowed>pages</allowed>
                                <size>1</size>
                                <maxitems>1</maxitems>
                                <minitems>0</minitems>
                                <show_thumbs>1</show_thumbs>
                            </config>
                        </TCEforms>
                    </settings.showPID>

                    <settings.eventUids>
                        <TCEforms>
                            <label>
                                Event
                            </label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:switchableControllerActions:=:Event->teaser</numIndex>
                                    <numIndex index="1">FIELD:switchableControllerActions:=:Date->teaser</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <foreign_table>tx_events_domain_model_event</foreign_table>
                                <foreign_table_where>AND tx_events_domain_model_event.deleted = 0 AND tx_events_domain_model_event.hidden = 0</foreign_table_where>
                                <size>3</size>
                                <enableMultiSelectFilterTextfield>1</enableMultiSelectFilterTextfield>
                                <minitems>0</minitems>
                                <maxitems>99</maxitems>
                            </config>
                        </TCEforms>
                    </settings.eventUids>
                </el>
            </ROOT>
        </sDEF>
        <sTemplate>
            <ROOT>
                <TCEforms>
                    <sheetTitle>Template</sheetTitle>
                </TCEforms>
                <type>array</type>
                <el>
                    <settings.template>
                        <exclude>1</exclude>
                        <label>Layout option</label>
                        <displayCond>
                            <OR>
                                <numIndex index="0">FIELD:sDEF.switchableControllerActions:=:Event->list</numIndex>
                                <numIndex index="1">FIELD:sDEF.switchableControllerActions:=:Date->list</numIndex>
                            </OR>
                        </displayCond>
                        <config>
                            <type>select</type>
                            <items type="array">
                                <numIndex index="0" type="array">
                                    <numIndex index="0">Default</numIndex>
                                    <numIndex index="1">default</numIndex>
                                </numIndex>
                                <numIndex index="1" type="array">
                                    <numIndex index="0">Costum</numIndex>
                                    <numIndex index="1">costum</numIndex>
                                </numIndex>
                                <numIndex index="2" type="array">
                                    <numIndex index="0">Table</numIndex>
                                    <numIndex index="1">table</numIndex>
                                </numIndex>
                                <numIndex index="3" type="array">
                                    <numIndex index="0">Grid</numIndex>
                                    <numIndex index="1">grid</numIndex>
                                </numIndex>
                            </items>
                            <default>default</default>
                        </config>
                    </settings.template>
                </el>
            </ROOT>
        </sTemplate>
        <sConstrains>
            <ROOT>
                <TCEforms>
                    <sheetTitle>Regions &amp; Categories</sheetTitle>
                </TCEforms>
                <type>array</type>
                <el>
                    <settings.region>
                        <TCEforms>
                            <label>Region</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:sDEF.switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:sDEF.switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <foreign_table>tx_events_domain_model_region</foreign_table>
                                <foreign_table_where>AND tx_events_domain_model_region.deleted = 0 AND tx_events_domain_model_region.hidden = 0</foreign_table_where>
                                <size>3</size>
                                <minitems>0</minitems>
                                <maxitems>2</maxitems>
                            </config>
                        </TCEforms>
                    </settings.region>

                    <settings.categoryCombination>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Combination</label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:sDEF.switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:sDEF.switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <items type="array">
                                    <numIndex index="0" type="array">
                                        <numIndex index="0">And</numIndex>
                                        <numIndex index="1">0</numIndex>
                                    </numIndex>
                                    <numIndex index="1" type="array">
                                        <numIndex index="0">Or</numIndex>
                                        <numIndex index="1">1</numIndex>
                                    </numIndex>
                                </items>
                                <default>0</default>
                            </config>
                        </TCEforms>
                    </settings.categoryCombination>

                    <settings.categories>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>
                                Category
                            </label>
                            <displayCond>
                                <OR>
                                    <numIndex index="0">FIELD:sDEF.switchableControllerActions:=:Event->list</numIndex>
                                    <numIndex index="1">FIELD:sDEF.switchableControllerActions:=:Date->list</numIndex>
                                </OR>
                            </displayCond>
                            <config>
                                <type>select</type>
                                <autoSizeMax>20</autoSizeMax>
                                <foreign_table>sys_category</foreign_table>
                                <foreign_table_where> AND sys_category.sys_language_uid IN (-1, 0) ORDER BY sys_category.title ASC</foreign_table_where>
                                <maxitems>1</maxitems>
                                <renderMode>tree</renderMode>
                                <size>8</size>
                                <treeConfig>
                                    <appearance>
                                        <expandAll>1</expandAll>
                                        <showHeader>1</showHeader>
                                    </appearance>
                                    <parentField>parent</parentField>
                                </treeConfig>
                            </config>
                        </TCEforms>
                    </settings.categories>

                    <settings.includeSubcategories>
                        <TCEforms>
                            <exclude>1</exclude>
                            <label>Include Subcategories</label>
                            <displayCond>FIELD:sDEF.switchableControllerActions:=:Event->list</displayCond>
                            <config>
                                <type>check</type>
                                <default>0</default>
                            </config>
                        </TCEforms>
                    </settings.includeSubcategories>
                </el>
            </ROOT>
        </sConstrains>
    </sheets>
</T3DataStructure>